(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{410:function(a,s,t){"use strict";t.r(s);var e=t(56),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[a._v("#")]),a._v(" Install")]),a._v(" "),t("h2",{attrs:{id:"install-prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-prerequisites"}},[a._v("#")]),a._v(" Install prerequisites")]),a._v(" "),t("ul",[t("li",[a._v("Install "),t("a",{attrs:{href:"https://www.python.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Python3"),t("OutboundLink")],1)]),a._v(" "),t("li",[a._v("Install "),t("a",{attrs:{href:"https://pip.pypa.io/en/stable/installation/",target:"_blank",rel:"noopener noreferrer"}},[a._v("pip"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"install-theengs-gateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-theengs-gateway"}},[a._v("#")]),a._v(" Install Theengs Gateway")]),a._v(" "),t("p",[a._v("Doing so is simple as 1 command:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("pip3 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" TheengsGateway\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("You can access advanced configuration by typing:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("python3 -m TheengsGateway -h\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"install-theengs-gateway-as-an-add-on-in-home-assistant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-theengs-gateway-as-an-add-on-in-home-assistant"}},[a._v("#")]),a._v(" Install Theengs Gateway as an Add ON in Home Assistant")]),a._v(" "),t("ol",[t("li",[a._v('Open Home Assistant and navigate to the "Add-on Store". Click on the 3 dots (top right) and select "Repositories".')]),a._v(" "),t("li",[a._v("Enter "),t("code",[a._v("https://github.com/mihsu81/addon-theengsgw")]),a._v(' in the box and click on "Add".')]),a._v(" "),t("li",[a._v('You should now see "TheengsGateway HA Add-on" at the bottom list.')]),a._v(" "),t("li",[a._v('Click on "TheengsGateway", then click "Install".')]),a._v(" "),t("li",[a._v('Under the "Configuration" tab, change the settings appropriately (at least MQTT parameters), see '),t("a",{attrs:{href:"#parameters"}},[a._v("Parameters")]),a._v(".")]),a._v(" "),t("li",[a._v("Start the Add-on.")])]),a._v(" "),t("h2",{attrs:{id:"install-theengs-gateway-as-a-snap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-theengs-gateway-as-a-snap"}},[a._v("#")]),a._v(" Install Theengs Gateway as a snap")]),a._v(" "),t("p",[a._v("Theengs Gateway is also packaged as a snap in the "),t("a",{attrs:{href:"https://snapcraft.io/theengs-gateway",target:"_blank",rel:"noopener noreferrer"}},[a._v("Snap Store"),t("OutboundLink")],1),a._v(". If you have snapd running on your Linux distribution, which is the case by default on Ubuntu, you can install the Theengs Gateway snap as:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("snap "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" theengs-gateway\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("Have a look at the "),t("a",{attrs:{href:"https://github.com/theengs/gateway-snap",target:"_blank",rel:"noopener noreferrer"}},[a._v("Theengs Gateway Snap"),t("OutboundLink")],1),a._v(" documentation for more information about how to configure and start Theengs Gateway as a service.")]),a._v(" "),t("h2",{attrs:{id:"install-theengs-gateway-as-a-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-theengs-gateway-as-a-docker"}},[a._v("#")]),a._v(" Install Theengs Gateway as a docker")]),a._v(" "),t("p",[a._v("Theengs Gateway is also available from docker hub thanks to (@maretodoric)[https://github.com/maretodoric]")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull theengs/gateway\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("To run it with minimum required parameters required:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run --rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --network "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("host_ip"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /var/run/dbus:/var/run/dbus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --name TheengsGateway "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    theengs/gateway\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[a._v("With more parameters:")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run --rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --network "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("host_ip"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_USERNAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_PUB_TOPIC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("home/TheengsGateway/BTtoMQTT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MQTT_SUB_TOPIC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("home/TheengsGateway/commands "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PUBLISH_ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TIME_BETWEEN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SCAN_TIME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LOG_LEVEL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DEBUG "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DISCOVERY_TOPIC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("homeassistant/sensor "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DISCOVERY_DEVICE_NAME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("TheengsGateway "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DISCOVERY_FILTER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[IBEACON,GAEN,MS-CDP]"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SCANNING_MODE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("active\n    -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ADAPTER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("hci0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /var/run/dbus:/var/run/dbus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --name TheengsGateway "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    theengs/gateway\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br")])]),t("h2",{attrs:{id:"advanced-users-build-and-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#advanced-users-build-and-install"}},[a._v("#")]),a._v(" Advanced users - Build and install")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git clone https://github.com/theengs/gateway.git\ncd gateway\ngit submodule update --init --recursive\npython3 setup.py sdist\ncd dist\npip3 install distribution_file_name\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("When launching the gateway you must be outside of its source code folder to avoid errors")])])])}),[],!1,null,null,null);s.default=n.exports}}]);